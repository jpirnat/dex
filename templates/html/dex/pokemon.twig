{% extends "html/base.twig" %}

{% block body %}
	<div class="generation-control">
		<ul>
			{% for g in generations %}
				<li>
					<a href="/dex/{{ g.identifier|e }}/pokemon/{{ pokemon.identifier|e }}"
						{% if g.identifier == generation.identifier %}
							class="current"
						{% endif %}
					>{{ g.name|e }}</a>
				</li>
			{% endfor %}
		</ul>
	</div>

	<table class="dex-table dex-table--full-width">
		<thead>
		</thead>
		{% for method in methods %}
			<tbody id="{{ method.identifier|e }}-moves">
				<tr class="dex-table__sticky-header-1">
					<th colspan="{{ colspan|e }}">
						{% if method.description %}
							{{ method.name|e }} - {{ method.description|e }}
						{% else %}
							{{ method.name|e }}
						{% endif %}
					</th>
				</tr>
				<tr class="dex-table__sticky-header-2">
					{% for versionGroup in versionGroups %}
						<th scope="col" class="dex-table--icon">
							<img src="/images/versions/{{ versionGroup.icon|e }}" alt="{{ versionGroup.name|e }}">
						</th>
					{% endfor %}
					<th scope="col">Move</th>
					<th scope="col">Type</th>
					<th scope="col">Category</th>
					<th scope="col">PP</th>
					<th scope="col">Power</th>
					<th scope="col">Accuracy</th>
					{% if showMoveDescriptions %}
						<th scope="col" class="dex-table__move-description">Description</th>
					{% endif %}
				</tr>
				{% for move in method.moves %}
					<tr>
						{% for versionGroup in versionGroups %}
							{% if move.versionGroupData[versionGroup.identifier] %}
								{% if method.identifier in 'level-up' %}
									<td class="dex-table__pokemon-move-data dex-table--number">
										{{ move.versionGroupData[versionGroup.identifier]|e }}
									</td>
								{% elseif method.identifier == 'machine' %}
									<td class="dex-table__pokemon-move-data">
										{{ move.versionGroupData[versionGroup.identifier]|e }}
									</td>
								{% elseif method.identifier == 'egg' %}
									<td class="dex-table__pokemon-move-data dex-table--icon">
										<a href="/dex/{{ generation.identifier|e }}/pokemon/{{ pokemon.identifier|e }}/breeding/{{ move.identifier|e }}/{{ versionGroup.identifier|e }}" target="_blank">
											<img src="/images/miscellaneous/egg.png" alt="Egg move">
										</a>
									</td>
								{% elseif method.identifier == 'light-ball' %}
									<td class="dex-table__pokemon-move-data dex-table--icon">
										<img src="/images/miscellaneous/egg.png" alt="Egg move">
									</td>
								{% else %}
									<td class="dex-table__pokemon-move-data dex-table--icon">
										<img src="/images/versions/{{ versionGroup.icon|e }}" alt="{{ versionGroup.name|e }}">
									</td>
								{% endif %}
							{% else %}
								<td class="dex-table__pokemon-move-data"></td>
							{% endif %}
						{% endfor %}
						<th scope="row">
							<a href="/dex/{{ generation.identifier|e }}/moves/{{ move.identifier|e }}">
								{{ move.name|e }}
							</a>
						</th>
						<td class="dex-table__move-type">
							<a href="/dex/{{ generation.identifier|e }}/types/{{ move.type.identifier|e }}">
								<img src="/images/types/{{ move.type.icon|e }}" alt="{{ move.type.name|e }}">
							</a>
						</td>
						<td class="dex-table__move-category">
							<img src="/images/categories/{{ move.category.icon|e }}" alt="{{ move.category.name|e }}">
						</td>
						<td class="dex-table--number">{{ move.pp|e }}</td>
						<td class="dex-table--number">{{ move.power|e }}</td>
						<td class="dex-table--number">{{ move.accuracy|e }}</td>
						{% if showMoveDescriptions %}
							<td class="dex-table__move-description">{{ move.description|e }}</td>
						{% endif %}
					</tr>
				{% endfor %}
			</tbody>
		{% endfor %}
	</table>
{% endblock %}
