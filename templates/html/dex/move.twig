{% extends "html/base.twig" %}

{% block body %}
	<div class="generation-control">
		<ul>
			{% for g in generations %}
				<li>
					<a href="/dex/{{ g.identifier|e }}/moves/{{ move.identifier|e }}"
						{% if g.identifier == generation.identifier %}
							class="current"
						{% endif %}
					>{{ g.name|e }}</a>
				</li>
			{% endfor %}
		</ul>
	</div>

	<table class="dex-table dex-table--full-width">
		<thead>
		</thead>
		{% for method in methods %}
			<tbody>
				<tr>
					<th colspan="{{ colspan|e }}">
						{% if method.description %}
							{{ method.name|e }} - {{ method.description|e }}
						{% else %}
							{{ method.name|e }}
						{% endif %}
					</th>
				</tr>
				<tr>
					{% for versionGroup in versionGroups %}
						<th scope="col" class="dex-table--icon">
							<img src="/images/versions/{{ versionGroup.icon|e }}" alt="{{ versionGroup.name|e }}">
						</th>
					{% endfor %}
					<th></th>
					<th scope="col">Pok√©mon</th>
					<th scope="col">Types</th>
					{% if showAbilities %}
						<th scope="col">Abilities</th>
					{% endif %}
					{% for stat in stats %}
						<th scope="col" class="dex-table--number">
							<abbr title="{{ stat.name|e }}">{{ stat.abbr|e }}</abbr>
						</th>
					{% endfor %}
					<th scope="col">BST</th>
				</tr>
				{% for pokemon in method.pokemon %}
					<tr>
						{% for versionGroup in versionGroups %}
							{% if pokemon.versionGroupData[versionGroup.identifier] %}
								{% if method.identifier in 'level-up' %}
									<td class="dex-table__pokemon-move-data dex-table--number">
										{{ pokemon.versionGroupData[versionGroup.identifier]|e }}
									</td>
								{% elseif method.identifier == 'machine' %}
									<td class="dex-table__pokemon-move-data">
										{{ pokemon.versionGroupData[versionGroup.identifier]|e }}
									</td>
								{% elseif method.identifier == 'egg' %}
									<td class="dex-table__pokemon-move-data dex-table--icon">
										<a href="/dex/{{ generation.identifier|e }}/pokemon/{{ pokemon.identifier|e }}/breeding/{{ move.identifier|e }}/{{ versionGroup.identifier|e }}" target="_blank">
											<img src="/images/miscellaneous/egg.png" alt="Egg move">
										</a>
									</td>
								{% elseif method.identifier == 'light-ball' %}
									<td class="dex-table__pokemon-move-data dex-table--icon">
										<img src="/images/miscellaneous/egg.png" alt="Egg move">
									</td>
								{% else %}
									<td class="dex-table__pokemon-move-data dex-table--icon">
										<img src="/images/versions/{{ versionGroup.icon|e }}" alt="{{ versionGroup.name|e }}">
									</td>
								{% endif %}
							{% else %}
								<td class="dex-table__pokemon-move-data"></td>
							{% endif %}
						{% endfor %}
						<td>
							<img src="/images/pokemon/icons/{{ pokemon.icon|e }}" alt="">
						</td>
						<th scope="row">
							<a href="/dex/{{ generation.identifier|e }}/pokemon/{{ pokemon.identifier|e }}">
								{{ pokemon.name|e }}
							</a>
						</th>
						<td class="dex-table__pokemon-types">
							{% for type in pokemon.types %}
								<a href="/dex/{{ generation.identifier|e }}/types/{{ type.identifier|e }}">
									<img src="/images/types/{{ type.icon|e }}" alt="{{ type.name|e }}">
								</a>
							{% endfor %}
						</td>
						{% if showAbilities %}
							<td>
								<div class="dex-table__pokemon-abilities">
									{% for ability in pokemon.abilities %}
										<a href="/dex/{{ generation.identifier|e }}/abilities/{{ ability.identifier|e }}"
											{% if ability.isHiddenAbility %}
												class="dex-table__pokemon-ability dex-table__pokemon-ability--hidden"
											{% else %}
												class="dex-table__pokemon-ability"
											{% endif %}
										>
											{{ ability.name|e }}
										</a>
									{% endfor %}
								</div>
							</td>
						{% endif %}
						{% for stat in stats %}
							<td class="dex-table--number">{{ pokemon.baseStats[stat.key]|e }}</td>
						{% endfor %}
						<td class="dex-table--number">{{ pokemon.bst|e }}</td>
					{% endfor %}
				</tr>
			</tbody>
		{% endfor %}
	</table>
{% endblock %}
